<html>
    <head>
        <title>Woot! Websocket Chat..</title>
    </head><body>
    <h1>Chat</h1>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
        <script type="text/javascript">
            var ws = new WebSocket("ws://localhost:3000/socket");
            ws.onmessage = function (evt) {
                var data = JSON.parse(evt.data);
                var target = document.getElementById("received");
                target.value = "[" + data.time + "] " + data.message + "\n" + target.value;
            };
            window.send_data = function () {
                ws.send(document.getElementById("send_input").value);
            };
        </script>
    <form>
        <input type="text" id="send_input">
        <input type="submit" onclick="send_data();return false;">
        <br>
        <textarea name="received" id="received" rows="4" cols="40"></textarea>
    </form>
    </body>
</html>
